\documentclass{article}
\usepackage{listings}
\usepackage{xcolor}

\lstdefinelanguage{Solidity}{
    keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break, contract, public, private, view, returns, memory, mapping, address, string, push},
    keywordstyle=\color{blue}\bfseries,
    ndkeywords={class, export, boolean, throw, implements, import, this},
    ndkeywordstyle=\color{darkgray}\bfseries,
    identifierstyle=\color{black},
    sensitive=false,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{purple}\ttfamily,
    stringstyle=\color{red}\ttfamily,
    morestring=[b]',
    morestring=[b]"
}

\lstset{
   language=Solidity,
   backgroundcolor=\color{white},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\begin{document}

\begin{lstlisting}[caption=Solidity example]
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract FileStorage {
    mapping(address => string[]) private userFiles;

    function addFile(string memory fileHash) public {
        userFiles[msg.sender].push(fileHash);
    }

    function getFiles() public view returns (string[] memory) {
        return userFiles[msg.sender];
    }
}
\end{lstlisting}

\end{document}
